package core.ui{	import core.Core;	import core.animation.Tween;	import flash.display.Sprite;	import flash.events.Event;	import flash.geom.Matrix;		public dynamic class Overlay extends Sprite	{		public static var color:uint = 0x000000;		public static var opacity:Number = 0.5;				public function Overlay()		{			this.cacheAsBitmap = true;			//this.cacheAsBitmapMatrix = new Matrix();						if (stage) construct();			else this.addEventListener(Event.ADDED_TO_STAGE, construct);		}				private function construct(event:Event = null):void		{			if(event) this.removeEventListener(Event.ADDED_TO_STAGE, construct);						//this.alpha = 0;			this.graphics.beginFill(color, opacity);			this.graphics.drawRect(0 - Core.stage.stageWidth / 2,														 0 - Core.stage.stageHeight / 2,														 Core.stage.stageWidth,														 Core.stage.stageHeight);			this.graphics.endFill();						//Tween.stop(this).fadeIn(Tween.SLOW);						this.addEventListener(Event.REMOVED_FROM_STAGE, dispose);			Core.stage.addEventListener(Event.RESIZE, resize);			resize();		}				protected function resize(event:Event = null):void		{			this.width = Core.stage.stageWidth;			this.height = Core.stage.stageHeight;			this.x = Core.stage.stageWidth / 2;			this.y = Core.stage.stageHeight / 2;		}				protected function dispose(event:Event):void		{			this.removeEventListener(Event.REMOVED_FROM_STAGE, dispose);			Core.stage.removeEventListener(Event.RESIZE, resize);		}			}}